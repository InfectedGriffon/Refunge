q -> queue mode
s -> stack mode
l -> lehmer codes